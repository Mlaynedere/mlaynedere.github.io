/* Monokai Vault Theme */
:root {
  --bg: #272822;
  --bg-alt: #2e2f29;
  --text: #f8f8f2;
  --comment: #75715e;
  --accent: #66d9ef;
  --accent2: #a6e22e;
  --accent3: #fd971f;
  --accent4: #f92672;
  --accent5: #ae81ff;
  --border: #3b3c36;
  --danger: #f92672;
}
html, body { margin:0; padding:0; background: var(--bg); color: var(--text); font-family: system-ui, "Fira Sans", "Segoe UI", Roboto, sans-serif; line-height:1.5; }
a.visually-hidden, .visually-hidden { position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }
a { color: var(--accent); text-decoration:none; }
a:hover { color: var(--accent3); }
.container { max-width: 960px; margin: 0 auto; padding: 1.2rem; }
.site-header { background: var(--bg-alt); border-bottom:1px solid var(--border); position:sticky; top:0; z-index:10; }
.site-header .inner { display:flex; align-items:center; gap:1.5rem; }
.logo { font-weight:700; font-size:1.1rem; color: var(--accent2); }
.logo.hidden { display:none; }
nav ul { list-style:none; margin:0; padding:0; display:flex; gap:1rem; }
nav a { padding:.5rem .6rem; border-radius:4px; }
nav a:hover { background: var(--border); }
.search-btn { margin-left:auto; background: var(--bg-alt); color: var(--accent); border:1px solid var(--border); padding:.45rem .7rem; border-radius:6px; cursor:pointer; font-size:.9rem; }
.search-btn:hover { background: var(--border); }
.post-list { list-style:none; padding:0; margin:1rem 0; }
.post-list li { padding: .8rem .4rem; border-bottom:1px solid var(--border); }
.post-link { font-size:1.1rem; font-weight:600; }
.meta { font-size:.8rem; color: var(--comment); margin-top:.3rem; }
.tags { color: var(--accent5); }
article img.cover { max-width:100%; border:1px solid var(--border); border-radius:6px; margin:1rem 0; }
article .content img { max-width:100%; border:1px solid var(--border); border-radius:4px; }
pre { background:#1e1f1c; padding:1rem; overflow:auto; border:1px solid var(--border); border-radius:6px; }
code { font-family: "Fira Code", monospace; font-size:.9rem; }
.copy-btn { background: var(--bg-alt); color: var(--accent); border:1px solid var(--border); cursor:pointer; padding:.2rem .5rem; font-size:.7rem; border-radius:4px; }
.copy-btn:hover { background: var(--border); }
.page-intro { color: var(--comment); }
/* Code block copy icon */
.copy-btn { width:32px; height:32px; display:flex; align-items:center; justify-content:center; padding:0 !important; background:rgba(255,255,255,0.04); border:1px solid var(--border); border-radius:8px; font-size:0; }
.copy-btn svg { width:16px; height:16px; stroke: var(--accent); fill:none; stroke-width:2; }
.copy-btn:hover { background: var(--border); }
.copy-btn.copied { border-color: var(--accent2); }
pre.code-wrapper { padding-top:2.2rem; }
pre.code-wrapper .copy-btn { position:absolute; top:8px; right:8px; }
/* Hide any existing line number columns produced before disabling */
table.hljs-ln, td.hljs-ln-numbers { display:none !important; }
.site-footer { text-align:center; padding:2rem 1rem; font-size:.75rem; color:var(--comment); }
.search-page input { width:100%; max-width:480px; background: var(--bg-alt); border:1px solid var(--border); color:var(--text); padding:.6rem .8rem; border-radius:6px; }
#searchList { list-style:none; margin-top:1rem; padding:0; }
#searchList li { padding:.5rem .4rem; border-bottom:1px solid var(--border); }
#searchList li a { color: var(--accent2); font-weight:600; }
blockquote { border-left:4px solid var(--accent3); margin:1rem 0; padding:.5rem 1rem; background: var(--bg-alt); }
hr { border:0; border-top:1px solid var(--border); margin:2rem 0; }
.table { width:100%; border-collapse:collapse; }
.table th, .table td { border:1px solid var(--border); padding:.5rem; }

/* Simple Mini TOC */
.mini-toc { position:fixed; top:5rem; left:min(22px,2.3vw); width:275px; max-height:calc(100vh - 5.2rem); overflow:auto; font-size:.80rem; line-height:1.26; padding:1.1rem 1rem 1.25rem; background:linear-gradient(160deg,rgba(39,40,34,0.97),rgba(39,40,34,0.90)); backdrop-filter: blur(10px); border:1px solid #53544c; border-radius:20px; box-shadow:0 14px 34px -14px rgba(0,0,0,.94), 0 0 0 1px rgba(255,255,255,0.05); display:flex; flex-direction:column; gap:.55rem; }
.mini-toc::-webkit-scrollbar { width:6px; }
.mini-toc::-webkit-scrollbar-track { background:transparent; }
.mini-toc::-webkit-scrollbar-thumb { background:var(--border); border-radius:10px; }
.mini-toc.hidden { display:none; }
.mini-toc-title { font-size:.66rem; font-weight:700; letter-spacing:1.4px; color:var(--comment); margin:0 0 .4rem .35rem; opacity:.95; }
.mini-toc-list { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:.12rem; }
.mini-toc-item { position:relative; }
.mini-toc-item.depth-1 { position:relative; }
.mini-toc-item.depth-1 > a { position:relative; font-weight:600; color: var(--accent5); font-size:.86rem; letter-spacing:.35px; padding-left:1.5rem; }
.mini-toc-item.depth-2 > a { font-weight:500; font-size:.72rem; padding-left:1.9rem; color: var(--accent3); opacity:.95; position: relative; }
.mini-toc-item.depth-2 > a:before { content:""; position:absolute; left:1.2rem; top:50%; width:4px; height:4px; background:var(--accent3); border-radius:50%; transform:translateY(-50%); opacity:.75; }
.mini-toc-item a { display:block; padding:.45rem .65rem; border-radius:10px; text-decoration:none; line-height:1.16; }
.mini-toc-item a:hover { background:rgba(255,255,255,0.09); color:var(--accent2); }
.mini-toc-collapsible > a { cursor:pointer; }
.mini-toc-collapsible .mini-toc-children { display:none; margin-top:.12rem; list-style:none; padding:0; }
.mini-toc-collapsible.open .mini-toc-children { display:flex; flex-direction:column; gap:.10rem; }
.mini-toc-collapsible { display:block; }
.mini-toc-collapsible > a { display:block; }
.mini-toc-arrow { position:absolute; left:.45rem; top:50%; transform:translateY(-56%); display:inline-block; width:.85rem; text-align:center; line-height:1; cursor:pointer; background:transparent; border-radius:0; font-size:12px; color:var(--accent5); font-weight:700; user-select:none; }
.mini-toc-arrow:hover, .mini-toc-arrow:focus { outline:none; color:var(--accent2); transform:translateY(-56%) scale(1.05); }
.mini-toc-arrow:focus-visible { box-shadow:0 0 0 2px rgba(102,217,239,.6); }
/* footer controls removed in simplified version */

@media (max-width: 1100px){
  .mini-toc { display:none; }
}

/* Offset anchor scroll for headings */
article .content h2, article .content h3 { scroll-margin-top: 90px; }


/* Responsive */
@media (max-width:700px){
  .site-header .inner { flex-wrap:wrap; }
  nav ul { flex-wrap:wrap; }
}

/* Blog Hero + Search (revamped) */
.blog-hero { text-align:center; padding:3.2rem 0 1.4rem; }
.blog-title { margin:0 0 .6rem; font-size:3rem; font-weight:700; background:linear-gradient(90deg,var(--accent2),var(--accent),var(--accent5)); -webkit-background-clip:text; background-clip:text; color:transparent; letter-spacing:1px; }
.hero-sub { color: var(--comment); margin:0 0 1.6rem; font-size:.95rem; letter-spacing:.5px; }
.hero-search-wrapper { max-width:760px; margin:0 auto 1.8rem; }
.hero-search-inner { position:relative; }
#blogSearchInput { width:100%; padding:1.1rem 1.2rem 1.1rem 3.2rem; background:linear-gradient(145deg,#2f3129,#262722); border:1px solid #383a33; border-radius:18px; font-size:1.08rem; color:var(--text); box-shadow:0 0 0 1px #32332d, 0 6px 24px -8px rgba(0,0,0,.65); }
#blogSearchInput:focus { outline:2px solid var(--accent3); box-shadow:0 0 0 2px var(--accent3), 0 8px 28px -10px rgba(0,0,0,.75); }
.search-icon { position:absolute; top:50%; left:1rem; transform:translateY(-50%); opacity:.55; font-size:1.2rem; }
.search-stats { font-size:.7rem; text-transform:uppercase; letter-spacing:1px; color:var(--comment); text-align:right; margin-top:.5rem; }
.no-results { text-align:center; padding:2.5rem; color:var(--comment); }

/* Post Grid (revamped) */
.post-grid { display:grid; gap:2.1rem; grid-template-columns: repeat(auto-fill,minmax(320px,1fr)); padding:1rem 0 4rem; }
.post-card { position:relative; background:#22231f; background-image:linear-gradient(165deg,rgba(255,255,255,.05),transparent 55%), radial-gradient(circle at 80% 15%,rgba(255,255,255,.09),transparent 65%), radial-gradient(circle at 12% 88%,rgba(255,255,255,.06),transparent 60%); border:1px solid #353630; border-radius:22px; padding:1.25rem 1.25rem 1.35rem; display:flex; flex-direction:column; gap:.75rem; min-height:230px; overflow:hidden; }
.post-card:after { content:""; position:absolute; inset:0; background:linear-gradient(120deg,rgba(102,217,239,.18),rgba(249,38,114,.12),rgba(174,129,255,.16)); opacity:0; mix-blend-mode:overlay; transition:opacity .5s ease; pointer-events:none; }
.post-card:hover:after { opacity:.55; }
.post-card:hover { border-color:#44463e; box-shadow:0 8px 34px -12px rgba(0,0,0,.95), 0 0 0 1px #494b43; transform:translateY(-6px) scale(1.015); }
.post-card .card-link { position:absolute; inset:0; z-index:10; }
.card-title { font-size:1.25rem; margin:0; font-weight:700; color:var(--accent2); letter-spacing:.5px; }
.card-meta { font-size:.62rem; color: var(--comment); display:flex; gap:.55rem; flex-wrap:wrap; text-transform:uppercase; letter-spacing:.7px; font-weight:500; }
.card-meta .date { color: var(--accent3); font-weight:600; }
.card-summary { margin:0; font-size:.83rem; line-height:1.38; color: var(--text); opacity:.92; }
.card-tags { display:flex; gap:.45rem; flex-wrap:wrap; margin-top:auto; }
.tag { font-size:.55rem; background: linear-gradient(140deg,#31322d,#2a2b26); padding:.35rem .60rem .33rem; border-radius:40px; text-transform:uppercase; letter-spacing:.75px; color: var(--accent); font-weight:650; position:relative; overflow:hidden; box-shadow:0 0 0 1px #3a3b35, 0 2px 6px -2px rgba(0,0,0,.9); }
.tag:before { content:""; position:absolute; inset:0; background:linear-gradient(90deg,transparent,rgba(255,255,255,.09),transparent); transform:translateX(-120%); transition:transform 1s ease; }
.post-card:hover .tag:before { transform:translateX(120%); }
.tag-htb { color: var(--accent2); }
.tag-linux { color: var(--accent3); }
.tag-windows { color: var(--accent4); }
.tag-privesc { color: var(--accent5); }
.tag-example-machine { color: var(--accent); }
.post-card, .post-card * { transition: background .55s, border-color .55s, color .55s, transform .55s; }

@media (max-width: 700px){
  .blog-title { font-size:2.35rem; }
  .post-grid { gap:1.4rem; grid-template-columns: repeat(auto-fill,minmax(250px,1fr)); }
  .post-card { padding:1.05rem 1.05rem 1.15rem; border-radius:18px; }
  .card-title { font-size:1.1rem; }
}

/* Copy button refined */
.code-wrapper { position:relative; }
.copy-btn { background: var(--bg-alt); color: var(--accent); border:1px solid var(--border); cursor:pointer; padding:.25rem .55rem; font-size:.65rem; border-radius:4px; position:absolute; top:6px; right:6px; opacity:.85; }
.copy-btn:hover { background: var(--border); opacity:1; }
